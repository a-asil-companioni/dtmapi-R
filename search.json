[{"path":"https://displacement-tracking-matrix.github.io/dtmapi-R/articles/user_guide.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"User Guide","text":" dtmapi package provides functions interact Displacement Tracking Matrix (DTM) API. vignette demonstrates use package’s functions fetch data API. functions covered include: get_all_countries() get_all_operations() get_idp_admin0_data() get_idp_admin1_data() get_idp_admin2_data()","code":""},{"path":"https://displacement-tracking-matrix.github.io/dtmapi-R/articles/user_guide.html","id":"install-package","dir":"Articles","previous_headings":"","what":"Install Package","title":"User Guide","text":"dtmapi package available CRAN can installed using following command:","code":"install.packages(\"dtmapi\")"},{"path":"https://displacement-tracking-matrix.github.io/dtmapi-R/articles/user_guide.html","id":"load-package","dir":"Articles","previous_headings":"","what":"Load Package","title":"User Guide","text":"installation, load package using library():","code":"library(dtmapi)"},{"path":"https://displacement-tracking-matrix.github.io/dtmapi-R/articles/user_guide.html","id":"setting-the-subscription-key","dir":"Articles","previous_headings":"","what":"Setting the Subscription Key","title":"User Guide","text":"creating subscription key https://dtm-apim-portal.iom.int, key needs given R. two main ways . calling set_subscription_key() typing key. user prompted input key pop-field. setting environment variable directly. one like avoid re-inputting subscription key R session, alternative approach create environment variable DTM_SUBSCRIPTION_KEY, subscription key value. Ideally, () done .Renviron file, (b) use R projects means organising files (e.g. one using VS Code: workspaces). One quick way get started calling following line code, one using R project equivalent: , one using R project equivalent:","code":"set_subscription_key() usethis::edit_r_environ(\"project\") usethis::edit_r_environ(\"user\")"},{"path":"https://displacement-tracking-matrix.github.io/dtmapi-R/articles/user_guide.html","id":"get-all-countries","dir":"Articles","previous_headings":"","what":"Get All Countries","title":"User Guide","text":"get_all_countries() function retrieves list countries DTM API.","code":"# Fetch all countries countries_df <- get_all_countries()  # Display the first few rows of the data frame head(countries_df)"},{"path":"https://displacement-tracking-matrix.github.io/dtmapi-R/articles/user_guide.html","id":"get-all-operations","dir":"Articles","previous_headings":"","what":"Get All Operations","title":"User Guide","text":"get_all_operations() function retrieves list operations DTM API.","code":"# Fetch all operations operations_df <- get_all_operations()  # Display the first few rows of the data frame head(operations_df)"},{"path":"https://displacement-tracking-matrix.github.io/dtmapi-R/articles/user_guide.html","id":"get-idp-data-at-admin-level-0","dir":"Articles","previous_headings":"","what":"Get IDP Data at Admin Level 0","title":"User Guide","text":"get_idp_admin0_data() function retrieves Internally Displaced Persons (IDP) data aggregated country level.","code":"# Fetch IDP data at Admin Level 0 idp_admin0_df <-   get_idp_admin0_data(CountryName = \"Ethiopia\",                       FromRoundNumber = 0,                       ToRoundNumber = 10)  # Display the first few rows of the data frame head(idp_admin0_df)"},{"path":"https://displacement-tracking-matrix.github.io/dtmapi-R/articles/user_guide.html","id":"get-idp-data-at-admin-level-1","dir":"Articles","previous_headings":"","what":"Get IDP Data at Admin Level 1","title":"User Guide","text":"get_idp_admin1_data() function retrieves IDP data aggregated Admin Level 1.","code":"# Fetch IDP data at Admin Level 1 idp_admin1_df <-   get_idp_admin1_data(CountryName = \"Sudan\",                       Admin1Name = \"Blue Nile\",                       FromReportingDate = \"2020-01-01\",                       ToReportingDate = \"2024-08-15\")  # Display the first few rows of the data frame head(idp_admin1_df)"},{"path":"https://displacement-tracking-matrix.github.io/dtmapi-R/articles/user_guide.html","id":"get-idp-data-at-admin-level-2","dir":"Articles","previous_headings":"","what":"Get IDP Data at Admin Level 2","title":"User Guide","text":"get_idp_admin2_data() function retrieves IDP data aggregated Admin Level 2","code":"# Fetch IDP data at Admin Level 2 idp_admin2_df <-   get_idp_admin2_data(Operation = \"Displacement due to conflict\",                       CountryName = \"Lebanon\")  # Display the first few rows of the data frame head(idp_admin2_df)"},{"path":"https://displacement-tracking-matrix.github.io/dtmapi-R/articles/user_guide.html","id":"function-arguments","dir":"Articles","previous_headings":"","what":"Function Arguments","title":"User Guide","text":"descriptions arguments used functions dtmapi package get IDP data. least one following parameters must provided: Operation, CountryName, Admin0Pcode.","code":""},{"path":"https://displacement-tracking-matrix.github.io/dtmapi-R/articles/user_guide.html","id":"arguments","dir":"Articles","previous_headings":"Function Arguments","what":"Arguments","title":"User Guide","text":"Operation: Optional; Name DTM operation data collected. CountryName: Optional; Name country data collected. Admin0Pcode: Optional; Country code (ISO 3166-1 alpha-3). Admin1Name: Optional; Name level 1 administrative boundaries. Admin1Pcode: Optional; Place code level 1 administrative boundaries. Admin2Name: Optional; Name level 2 administrative boundaries. Admin2Pcode: Optional; Place code level 2 administrative boundaries. FromReportingDate: Optional; Start date reporting period (format: ‘YYYY-MM-DD’). ToReportingDate: Optional; End date reporting period (format: ‘YYYY-MM-DD’). FromRoundNumber: Optional; Starting round number data collection range. ToRoundNumber: Optional; Ending round number data collection range.","code":""},{"path":"https://displacement-tracking-matrix.github.io/dtmapi-R/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Luong Bang Tran. Author, maintainer. Assad Asil Companioni. Author.","code":""},{"path":"https://displacement-tracking-matrix.github.io/dtmapi-R/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Tran L, Asil Companioni (2025). dtmapi: Fetching Data 'Displacement Tracking Matrix'. R package version 0.1.0, https://github.com/Displacement-Tracking-Matrix/dtmapi-R.","code":"@Manual{,   title = {dtmapi: Fetching Data from the 'Displacement Tracking Matrix'},   author = {Luong Bang Tran and Assad {Asil Companioni}},   year = {2025},   note = {R package version 0.1.0},   url = {https://github.com/Displacement-Tracking-Matrix/dtmapi-R}, }"},{"path":"https://displacement-tracking-matrix.github.io/dtmapi-R/index.html","id":"about","dir":"","previous_headings":"","what":"About","title":"Fetching Data from the Displacement Tracking Matrix","text":"dtmapi R package developed Displacement Tracking Matrix (DTM). package allows humanitarian community, academia, media, government, non-governmental organizations utilize data collected DTM. provides non-sensitive Internally Displaced Person (IDP) figures, aggregated country, Admin 1 (states, provinces, equivalent), Admin 2 (smaller subnational administrative areas) levels. Country Name Operation can found data coverage matrix. Please find information DTM API .","code":""},{"path":"https://displacement-tracking-matrix.github.io/dtmapi-R/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Fetching Data from the Displacement Tracking Matrix","text":"dtmapi package available CRAN can installed using following command:","code":"install.packages(\"dtmapi\")"},{"path":"https://displacement-tracking-matrix.github.io/dtmapi-R/index.html","id":"user-guide","dir":"","previous_headings":"","what":"User Guide","title":"Fetching Data from the Displacement Tracking Matrix","text":"user guide getting started dtmapi available .","code":""},{"path":"https://displacement-tracking-matrix.github.io/dtmapi-R/index.html","id":"source-code","dir":"","previous_headings":"","what":"Source Code","title":"Fetching Data from the Displacement Tracking Matrix","text":"source code dtmapi available GitHub. Feel free explore repository, contribute, raise issues may encounter.","code":""},{"path":"https://displacement-tracking-matrix.github.io/dtmapi-R/index.html","id":"contact","dir":"","previous_headings":"","what":"Contact","title":"Fetching Data from the Displacement Tracking Matrix","text":"questions feedback, please reach us dtmdataconsolidation@iom.int.","code":""},{"path":"https://displacement-tracking-matrix.github.io/dtmapi-R/reference/get_all_countries.html","id":null,"dir":"Reference","previous_headings":"","what":"Fetch All Countries — get_all_countries","title":"Fetch All Countries — get_all_countries","text":"Retrieve countries DTM data publicly available API.","code":""},{"path":"https://displacement-tracking-matrix.github.io/dtmapi-R/reference/get_all_countries.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fetch All Countries — get_all_countries","text":"","code":"get_all_countries()"},{"path":"https://displacement-tracking-matrix.github.io/dtmapi-R/reference/get_all_countries.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fetch All Countries — get_all_countries","text":"data frame containing list countries.","code":""},{"path":"https://displacement-tracking-matrix.github.io/dtmapi-R/reference/get_all_countries.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fetch All Countries — get_all_countries","text":"","code":"if (FALSE) { # \\dontrun{ countries_df <- get_all_countries() head(countries_df) } # }"},{"path":"https://displacement-tracking-matrix.github.io/dtmapi-R/reference/get_all_operations.html","id":null,"dir":"Reference","previous_headings":"","what":"Fetch All Operations — get_all_operations","title":"Fetch All Operations — get_all_operations","text":"Retrieve operations DTM data publicly available API.","code":""},{"path":"https://displacement-tracking-matrix.github.io/dtmapi-R/reference/get_all_operations.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fetch All Operations — get_all_operations","text":"","code":"get_all_operations()"},{"path":"https://displacement-tracking-matrix.github.io/dtmapi-R/reference/get_all_operations.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fetch All Operations — get_all_operations","text":"data frame containing list operations.","code":""},{"path":"https://displacement-tracking-matrix.github.io/dtmapi-R/reference/get_all_operations.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fetch All Operations — get_all_operations","text":"","code":"if (FALSE) { # \\dontrun{ # Fetch all operations operations_df <- get_all_operations() head(operations_df) } # }"},{"path":"https://displacement-tracking-matrix.github.io/dtmapi-R/reference/get_idp_admin0_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Fetch IDP Admin0 Data — get_idp_admin0_data","title":"Fetch IDP Admin0 Data — get_idp_admin0_data","text":"Retrieve IDP data Admin 0 level based specified parameters. least one following parameters must provided: Operation, CountryName, Admin0Pcode.","code":""},{"path":"https://displacement-tracking-matrix.github.io/dtmapi-R/reference/get_idp_admin0_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fetch IDP Admin0 Data — get_idp_admin0_data","text":"","code":"get_idp_admin0_data(   Operation = NULL,   CountryName = NULL,   Admin0Pcode = NULL,   FromReportingDate = NULL,   ToReportingDate = NULL,   FromRoundNumber = 0,   ToRoundNumber = 0 )"},{"path":"https://displacement-tracking-matrix.github.io/dtmapi-R/reference/get_idp_admin0_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fetch IDP Admin0 Data — get_idp_admin0_data","text":"Operation Optional; Name DTM operation data collected. CountryName Optional; Name country data collected. Admin0Pcode Optional; Country code (ISO 3166-1 alpha-3). FromReportingDate Optional; Start date reporting period (format: 'YYYY-MM-DD'). ToReportingDate Optional; End date reporting period (format: 'YYYY-MM-DD'). FromRoundNumber Optional; Starting round number data collection range. ToRoundNumber Optional; Ending round number data collection range.","code":""},{"path":"https://displacement-tracking-matrix.github.io/dtmapi-R/reference/get_idp_admin0_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fetch IDP Admin0 Data — get_idp_admin0_data","text":"data frame containing IDP Admin0 data matching specified criteria.","code":""},{"path":"https://displacement-tracking-matrix.github.io/dtmapi-R/reference/get_idp_admin0_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fetch IDP Admin0 Data — get_idp_admin0_data","text":"","code":"if (FALSE) { # \\dontrun{ # Fetch IDP data at Admin Level 0 idp_admin0_df <- get_idp_admin0_data(CountryName = \"Ethiopia\",                                      FromRoundNumber = 1,                                       ToRoundNumber = 10) head(idp_admin0_df) } # }"},{"path":"https://displacement-tracking-matrix.github.io/dtmapi-R/reference/get_idp_admin1_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Fetch IDP Admin1 Data — get_idp_admin1_data","title":"Fetch IDP Admin1 Data — get_idp_admin1_data","text":"Retrieve IDP data Admin 1 level based specified parameters. least one following parameters must provided: Operation, CountryName, Admin0Pcode.","code":""},{"path":"https://displacement-tracking-matrix.github.io/dtmapi-R/reference/get_idp_admin1_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fetch IDP Admin1 Data — get_idp_admin1_data","text":"","code":"get_idp_admin1_data(   Operation = NULL,   CountryName = NULL,   Admin0Pcode = NULL,   Admin1Name = NULL,   Admin1Pcode = NULL,   FromReportingDate = NULL,   ToReportingDate = NULL,   FromRoundNumber = 0,   ToRoundNumber = 0 )"},{"path":"https://displacement-tracking-matrix.github.io/dtmapi-R/reference/get_idp_admin1_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fetch IDP Admin1 Data — get_idp_admin1_data","text":"Operation Optional; Name DTM operation data collected. CountryName Optional; Name country data collected. Admin0Pcode Optional; Country code (ISO 3166-1 alpha-3). Admin1Name Optional; Name level 1 administrative boundaries. Admin1Pcode Optional; Place code level 1 administrative boundaries. FromReportingDate Optional; Start date reporting period (format: 'YYYY-MM-DD'). ToReportingDate Optional; End date reporting period (format: 'YYYY-MM-DD'). FromRoundNumber Optional; Starting round number data collection range. ToRoundNumber Optional; Ending round number data collection range.","code":""},{"path":"https://displacement-tracking-matrix.github.io/dtmapi-R/reference/get_idp_admin1_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fetch IDP Admin1 Data — get_idp_admin1_data","text":"data frame containing IDP Admin1 data matching specified criteria.","code":""},{"path":"https://displacement-tracking-matrix.github.io/dtmapi-R/reference/get_idp_admin1_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fetch IDP Admin1 Data — get_idp_admin1_data","text":"","code":"if (FALSE) { # \\dontrun{ # Fetch IDP data at Admin Level 1 idp_admin1_df <- get_idp_admin1_data(CountryName = \"Sudan\", Admin1Name = \"Blue Nile\") head(idp_admin1_df) } # }"},{"path":"https://displacement-tracking-matrix.github.io/dtmapi-R/reference/get_idp_admin2_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Fetch IDP Admin2 Data — get_idp_admin2_data","title":"Fetch IDP Admin2 Data — get_idp_admin2_data","text":"Retrieve IDP data Admin 2 level based specified parameters. least one following parameters must provided: Operation, CountryName, Admin0Pcode.","code":""},{"path":"https://displacement-tracking-matrix.github.io/dtmapi-R/reference/get_idp_admin2_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fetch IDP Admin2 Data — get_idp_admin2_data","text":"","code":"get_idp_admin2_data(   Operation = NULL,   CountryName = NULL,   Admin0Pcode = NULL,   Admin1Name = NULL,   Admin1Pcode = NULL,   Admin2Name = NULL,   Admin2Pcode = NULL,   FromReportingDate = NULL,   ToReportingDate = NULL,   FromRoundNumber = 0,   ToRoundNumber = 0 )"},{"path":"https://displacement-tracking-matrix.github.io/dtmapi-R/reference/get_idp_admin2_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fetch IDP Admin2 Data — get_idp_admin2_data","text":"Operation Optional; Name DTM operation data collected. CountryName Optional; Name country data collected. Admin0Pcode Optional; Country code (ISO 3166-1 alpha-3). Admin1Name Optional; Name level 1 administrative boundaries. Admin1Pcode Optional; Place code level 1 administrative boundaries. Admin2Name Optional; Name level 2 administrative boundaries. Admin2Pcode Optional; Place code level 2 administrative boundaries. FromReportingDate Optional; Start date reporting period (format: 'YYYY-MM-DD'). ToReportingDate Optional; End date reporting period (format: 'YYYY-MM-DD'). FromRoundNumber Optional; Starting round number data collection range. ToRoundNumber Optional; Ending round number data collection range.","code":""},{"path":"https://displacement-tracking-matrix.github.io/dtmapi-R/reference/get_idp_admin2_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fetch IDP Admin2 Data — get_idp_admin2_data","text":"data frame containing IDP Admin2 data matching specified criteria.","code":""},{"path":"https://displacement-tracking-matrix.github.io/dtmapi-R/reference/get_idp_admin2_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fetch IDP Admin2 Data — get_idp_admin2_data","text":"","code":"if (FALSE) { # \\dontrun{ # Fetch IDP data at Admin Level 2 idp_admin2_df <- get_idp_admin2_data(Operation = \"Yemen conflict\", CountryName = \"Yemen\") head(idp_admin2_df) } # }"},{"path":"https://displacement-tracking-matrix.github.io/dtmapi-R/reference/get_subscription_key.html","id":null,"dir":"Reference","previous_headings":"","what":"Retrieval of an API subscription key from the environment. — get_subscription_key","title":"Retrieval of an API subscription key from the environment. — get_subscription_key","text":"DTM API subscription key returned, provided available R session environment variable. Users usually need set DTM_SUBSCRIPTION_KEY environment variable .Renviron file calling set_subscription_key().","code":""},{"path":"https://displacement-tracking-matrix.github.io/dtmapi-R/reference/get_subscription_key.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Retrieval of an API subscription key from the environment. — get_subscription_key","text":"","code":"get_subscription_key()"},{"path":"https://displacement-tracking-matrix.github.io/dtmapi-R/reference/get_subscription_key.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Retrieval of an API subscription key from the environment. — get_subscription_key","text":"string representing given subscription key DTM API.","code":""},{"path":"https://displacement-tracking-matrix.github.io/dtmapi-R/reference/get_subscription_key.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Retrieval of an API subscription key from the environment. — get_subscription_key","text":"hand, TESTTHAT environment variable true, indicating unit tests run package maintainers, subscription key returned different means.","code":""},{"path":"https://displacement-tracking-matrix.github.io/dtmapi-R/reference/get_subscription_key.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Retrieval of an API subscription key from the environment. — get_subscription_key","text":"","code":"if (FALSE) { # \\dontrun{ # Generally, calling set_subscription_key() without the key as an argument is best,  # as the user can then be prompted to input the key without typing it directly # into the console, making it more secure and less likely to exposed. set_subscription_key() } # }"},{"path":"https://displacement-tracking-matrix.github.io/dtmapi-R/reference/set_subscription_key.html","id":null,"dir":"Reference","previous_headings":"","what":"Set the user's API subscription key in order to make the API calls. — set_subscription_key","title":"Set the user's API subscription key in order to make the API calls. — set_subscription_key","text":"API stored environmental variable named \"DTM_API_KEY\".","code":""},{"path":"https://displacement-tracking-matrix.github.io/dtmapi-R/reference/set_subscription_key.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Set the user's API subscription key in order to make the API calls. — set_subscription_key","text":"","code":"set_subscription_key(key = NULL)"},{"path":"https://displacement-tracking-matrix.github.io/dtmapi-R/reference/set_subscription_key.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Set the user's API subscription key in order to make the API calls. — set_subscription_key","text":"key Either NULL string representing key. NULL preferable: using prompt user type subscription key graphical user interface masks .","code":""},{"path":"https://displacement-tracking-matrix.github.io/dtmapi-R/reference/set_subscription_key.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Set the user's API subscription key in order to make the API calls. — set_subscription_key","text":"Nothing. Creates / overwrites environmental variable side effect.","code":""},{"path":"https://displacement-tracking-matrix.github.io/dtmapi-R/reference/set_subscription_key.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Set the user's API subscription key in order to make the API calls. — set_subscription_key","text":"","code":"if (FALSE) { # \\dontrun{ # Generally, calling set_subscription_key() without the key as an argument is best,  # as the user can then be prompted to input the key without typing it directly # into the console, making it more secure and less likely to exposed. set_subscription_key() } # }"}]
